# JAVA学习笔记

##   java介绍

1990年 sun公司启动绿色计划

1992年 创建oak（橡树）语言-->java

1994 gosling 参加硅谷大会演示java功能，震惊世界

1995 sun正式发布java第一个版本。

2009年，甲骨文公司宣布收购sun，2011，发布java7

java其他版本：https://www.oracle.com/cn/java/technologies/downloads/

java技术体系平台

**java SE（java Standard Edition）标准版**

支持面向桌面级应用，提供完整的java核心api，此版本之前称为J2SE

**Java EE(java Enterprise Edition)企业版**

是为开发企业环境下的应用程序提供的一套解决方案。该技术体系中包含的技术如：servlet，jsp等，主要针对web应用程序开发，版本以前称为J2EE

**java ME（java Micro Edition）小型版**

支持java程序运行在移动终端（手机，pad）上的平台，对java api有所精简，并加入针对移动终端的支持，此版本以前称为J2ME

java 重要特点

1. java语言是面向对象的（oop）
2. java语言是健壮的，java的强类型机制，异常处理，垃圾的自动收集等是java程序健壮性的重要保证
3. java语言是跨平台型的
4. java语言是解释型的
   解释型语言：JavaScript，PHP，java 编译型语言：c /c++
   区别是：解释型语言，编译后的代码，不能直接被机器执行，需要解释器来执行，编译型语言，编译后的代码，可以直接被机器执行。

JVM java虚拟机是java跨平台的关键。

`javac`命令编译java文件为class文件   `java`命令运行编译后的class文件

JDK java开发工具包 JDK = JRE+java开发工具

JRE java运行环境  JRE = JVM + java的核心类库

java11 中午api文档：https://www.apiref.com/java11-zh/index.html

## java快速入门

`public static void main(String[] args)`表示一个主方法，即程序的入口。

`;`表示一段语句的结束

`javac Hello.java`文件名和类名一致，类名首字母应该大写

`java Hello` 运行java文件实际是运行hello这个类，所以不能写`java Hello.class`这样写系统会去找Hello.class这个类，肯定是找不到的，所以会报错。

一个文件中只能有一个public 类，其他类的个数不限。每一个类编译后都对应生成一个class文件

## 转义字符

`\t`一个制表位，实现对齐的功能

`\n` 换行符

`\\` 一个\

`\"`一个"

`\'`一个‘

`\r` 一个回车，回车和换行的区别：回车后光标移到第一的位置并不换行，如果有输出则会覆盖原来的内容，换行则在下一行输出。回车+换行 的效果 = 换行

## 注释

单行注释  //注释文字

多行注释  /*  注释文字  */

文档注释 /**  

  		*/

文档注释可以生成一套文档网页文件，

生成命令：`javadoc -d 文件夹名 -author -version Demo.java`

-author -version 为注释的作者，版本或参数等注释信息

## 变量

变量的使用步骤：

1. 声明变量 int a
2. 赋值变量 a = 60
3. 使用变量  System.out.println(a)

也可以简化直接一步到位：int a = 60

## +号的使用

程序中+号的使用

1. 当左右两边都是数值型时，则做加法运算
2. 当左右两侧有一方为字符串，则做拼接运算

## 数据类型

### 基本数据类型

数值型

| 整数类型 | 数据空间（字节） | 数据范围                                                     |
| -------- | ---------------- | ------------------------------------------------------------ |
| byte     | 1                | -128 到 127                                                  |
| short    | 2                | -2¹⁵ 到 (2¹⁵ - 1)<br />-32,768 到 32,767                     |
| int      | 4                | -2³¹ 到 (2³¹ - 1)<br />-2,147,483,648 到 2,147,483,647大约 ±21亿 |
| long     | 8                | -2⁶³ 到 (2⁶³ - 1)<br />long bigNumber = 9223372036854775807L; // 必须加L |

| 浮点类型 | 数据空间（字节） | 数据范围                                                     |
| -------- | ---------------- | ------------------------------------------------------------ |
| float    | 4                | ±3.40282347E+38F (6-7 位有效小数位)<br/>小数默认是双精度如果声明单精数，具体值结尾必须带f（float a = 1.2f） |
| double   | 8                | ±1.79769313486231570E+308 (15 位有效小数位)                  |

浮点数 = 符号位+指数位+尾数位（尾数部分可能丢失，造成精度损失，小数都是近似值）

**浮点数使用陷阱：8.1/3 = 2.69999997 当我们对运算结果是小数的结果进行相等判断时，要小心。**通常用两个数的差值小于某个精度就认为相等，如果两个数是没有结果计算的小数是可以直接判断是否相等的。

| 字符型 | 数据空间（字节） | 数据范围        |
| ------ | ---------------- | --------------- |
| char   | 2                | 单个字符例：'a' |

字符型 + 数字 = 字符对应的unicode码 + 数字

ascII是0--127 共128个字符

| 布尔型  | 数据空间（字节） | 数据范围   |
| ------- | ---------------- | ---------- |
| boolean | 1                | true/false |

不可以用0或非0的整数替代false和true。

### 基本数据类型的转换

#### 自动类型转换

当java程序在进行赋值或运算时，精度小的类型自动转换为精度大的数据类型，这个就是自动类型转换。

数据类型按精度大小（容量）排序如下：

char--》int---》long--》float---》double

byte--》short---》int---》long---》float---》double

```java
int a = 'a'; // 字符赋值给int是可以的
double b = 80; // 整型赋值给双精度也是可以的
```

自动类型转换的细节：

1. 有多种类型的数据混合运算时，系统首先自动将所有数据转换成容量最大的那种数据类型，然后再进行计算。
2. 当我们把精度大的数据类型赋值给精度小的数据类型时，就会报错，反之就会自动类型转换。
3. byte，short 和char之间不会相互自动转换，三者可以混合计算，在计算时首先转换成int类型。
4. boolean不参与自动类型转换
5. 自动提升原则：表达式结果的类型自动提升为操作数中最大的类型

#### 强制类型转换

自动类型转换的逆过程，将容量大的数据类型转换为容量小的数据类型，使用时要加上强制转换符`()`，但可能造成精度降低或者溢出，格外要注意。

注意细节：

强转符号只对最近的操作数有效，往往会使用小括号提升优先级

```java
int x = (int)10*3.5+6*1.5 // 错误，只转换了10，并不是转换整个结果
int x = (int)(10*3.5+6*1.5) //正确，这样才转换整个的结果
```

char类型可以保存int的常量值，但不能保存int的变量值，需要强转

```java
char c1 = 100; // ok,保存100对应的unicode码
int m = 100;
char c2 = m;  // 不行，会报类型不一致的错误
char c3 = (char)m; //ok
```

byte，short和char类型在进行运算时，当做int类型处理。

- 基本数据类型转string类型，`+ ""`即可。
- string类型转基本数据类型，通过基本类型的包装类调用`parseXX`方法记录。`Interger.parseInt("123")`
- 把字符串转成字符char：`a = "123"; b = a.charAt(0)`，只能取字符串中的某一个字符。

string类型转基本数据类型的注意事项：

1. 将string转基本数据类型时，要确保string类型能够转成有效的数据，比如我们可以把“123”，转成一个整数，但是不能把“hello”转成整数。
2. 如果格式不正确，就会抛出异常，程序就会终止，这个问题在异常处理章节中，会处理

### 引用数据类型

类 class

接口 interface

数组 [ ]

## 运算符

### 算术运算符

| 运算符 | 运算                                             | 范例                      | 结果                |
| ------ | ------------------------------------------------ | ------------------------- | ------------------- |
| +      | 正号                                             | +7                        | 7                   |
| -      | 负号                                             | b=11;-b                   | -11                 |
| +      | 加                                               | 9+9                       | 18                  |
| -      | 减                                               | 10-8                      | 2                   |
| *      | 乘                                               | 7*8                       | 56                  |
| /      | 除                                               | 9/3                       | 3                   |
| %      | 取模（取余）                                     | 11%9                      | 2                   |
| ++     | 自增(前):先运算后取值<br />自增(后):先取值后运算 | a=2;b=++a;<br/>a=2;c=a++; | a=3;b=3<br/>a=3;c=2 |
| --     | 自减(前):先运算后取值<br />自减(后):先取值后运算 | a=2;b=--a;<br/>a=2;c=a--; | a=1;b=1<br/>a=1;c=2 |
| +      | 字符串相加                                       | "java"+"kc"               | "javakc"            |

```java
System.out.println(10/4); //从数学来看是2.5 java结果为2 因为两个int运算结果为int
System.out.println(10.0/4) //结果为2.5 double除int结果为double
```

取模的公式：`a % b = a-a/b*b`

自增自减如果独立使用，i++ 和 ++i是一样的，如果作为表达式使用则不同。

```java
int i =1;
i=i++;
System.out.println(i);
//结果是多少? i = i++赋值时会使用临时变量
//使用临时变量规则1.temp = i 2.i++ 3.i=temp
// 所以应该输出 1

int i =1;
i=++i;  //先计算再赋值，1.i=i+1 2.temp=i 3.i= temp
System.out.println(i); //结果就是2
```

print()和println()的区别，带ln的会自动换行

### 关系运算符

关系运算符的结果都是boolen型，关系表达式经常用在if结构的条件中或循环结构的条件中。

| 运算符     | 运算               | 范例                    | 结果  |
| ---------- | ------------------ | ----------------------- | ----- |
| ==         | 相等于             | 8==7                    | false |
| !=         | 不等于             | 8!=7                    | true  |
| <          | 小于               | 8<7                     | false |
| >          | 大于               | 8>7                     | true  |
| <=         | 小于等于           | 8<=7                    | false |
| >=         | 大于等于           | 8>=7                    | true  |
| instanceof | 检查是否是类的对象 | "abc" instanceof String | true  |

### 逻辑运算符

用于连接多个条件（多个关系表达式），最终的结果也是一个boolen值。

1. 短路与 ：&&(当a和b同时为true，则为true，否则为false)
   短路或：||(当a和b有一个为true，则为true，否则为false)
   取反：!
2. 逻辑与：&(当a和b同时为true，则为true，否则为false)
   逻辑或：|(当a和b有一个为true，则为true，否则为false)
   逻辑异或：^（当a和b不同时，为true，否则为false）

| a     | b     | a&b   | a&&b  | a\|b  | a\|\|b | !a    | a^b   |
| ----- | ----- | ----- | ----- | ----- | ------ | ----- | ----- |
| true  | true  | true  | true  | true  | true   | false | false |
| true  | false | false | false | true  | true   | false | true  |
| false | true  | false | false | true  | true   | true  | true  |
| false | false | false | false | false | false  | true  | false |

&& 和&使用区别

1. &&短路与：如果第一个条件为false，则第二个条件不会判断，最终结果为false，效率高
2. &逻辑与：不管第一个条件是否为false，第二个条件都要判断，效率低
3. 开发中，我们使用的基本都是短路与&&，效率高

||和|使用区别

1. ||短路或：如果第一个条件为ture，则第二个添加不会判断，最终结果为true，效率高
2. 逻辑或：不管第一个条件是否为true，第二个条件都要判断，效率低
3. 开发中，我们基本使用||

### 赋值运算符

赋值运算符就是将某个运算后的值，赋给指定的变量。

复合赋值运算符：+= 、-+、*=、 /= 、%=

a += b  ==> a = a + b

赋值运算符特点

1. 运算顺序从右往左 `int num = a+b+c;`先计算a+b+c再赋值。
2. 赋值运算符的左边只能是变量，右边可以是变量，表达式，常量
3. 复合赋值运算符等价于下面的效果
   比如：a -= 3; 等价于 a = a -3;
4. 复合赋值预算法会进行类型转换
   byte b = 2; b +=3; b++;  此时b += 3 ==》b = (byte)(b+3)会进行类型转换把b+3的结果转换成byte。
   byte b = 2; b = b + 3; 则会直接报错，因为b的类型为byte,b+3的结果是int，会报类型不兼容类型的错误。

### 三元运算符

条件表达式 ？表达式1 ：表达式2;

如果条件表达式为true，运算后的结果是表达式1；

如果条件表达式为false，运算后的结果是表达式2；

注意细节：

表达式1和表达式2要为可以赋给接收变量的类型（或可以自动转换或者强制转换）

### 运算符的优先级

|         | .  ()  {}  ;  ,          |
| ------- | ------------------------ |
| R --> L | ++  --  ~   !(data type) |
| L-->R   | *  /  %                  |
| L-->R   | + -                      |
| L-->R   | <<   >>  >>>  位移       |
| L-->R   | <  >  <=  >=  instanceof |
| L-->R   | ==  !=                   |
| L-->R   | &                        |
| L-->R   | ^                        |
| L-->R   | \|                       |
| L-->R   | &&                       |
| L-->R   | \|\|                     |
| L-->R   | ?   :                    |
| R-->L   | = *=  /=  %=             |
| R-->L   | +=   -=   <<=   >>=      |
| R-->L   | >>>=  &=   ^=  \|=       |

运算符有不同的优先级，所谓优先级就是表达式运算中的运算顺序。如上表，上一行运算符总优先于下一行。

只有单目运算符，赋值运算符是从右向左运算的。
运算符优先级顺序分类：

1. （）{} ，等
2. 单目运算 ++   --
3. 算术运算符
4. 位移运算符
5. 比较运算符
6. 逻辑运算符
7. 三元运算符
8. 赋值运算符

### 标识符规则

java对各种变量，方法和类等命名时使用的字符序列称为标识符

凡是自己可以起名字的地方都叫标识符

标识符的命名规则（必须遵守）

1. 由26个英文字母大小写，0-9，_或$组成
2. 数字不可以开头
3. 不可以使用关键字和保留字，但能包含关键字和保留字
4. java中严格区分大小写，长度无限制
5. 标识符不能包含空格

标识符命名规范【更加专业】

1. 包名：多单词组成时所有字母都小写
2. 类名\接口名：多单词组成时，所有单词的首字母大写【大驼峰】
3. 变量名\方法名：多单词组成时，第一个单词首字母小写，第二个单词开始每个单词首字母大写【小驼峰，简称驼峰法】
4. 常量名：所有字母都大写。多单词时每个单词用下划线连接
5. 后面我们学习到类，包，接口等时，我们的命名规范要这样遵守，更加详细的看文档。

84