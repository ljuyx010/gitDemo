# Python学习笔记

## 一、快速入门案例

用cmd解释器，写出hell world

```python
>>> print("hello world")
hello world
```

用记事本，可发一个hello.py程序，可以输出hello world

```python
#python程序文件的后缀是.py
#print语句的作用是输出内容，输出的内容就是（）内写的内容
#在python中使用#表示注释，及对代码的说明，但是不会被执行

print("hello world")

执行方法：python/py 文件名
PS E:\学习笔记\python_code> python hello.py
hello world
PS E:\学习笔记\python_code> py hello.py
hello world
```

## 二、注意事项

1.python 文件默认以.py做文件名，但不强制，以其他文件名也可以执行

2.python程序默认情况是按顺序执行的

3.python语言区分大小写

4.python程序由一条条语句构成，每条语句后不需要以`;`结束，但是如果带上`;`也不会报错，建议不带`;`(规范)

## 三、pycharm快捷键

1. 删除当前行快捷键：`shift+delete`
2. 复制当前行：`ctrl+D`
3. 添加注释和取消注销：`ctrl+/`
4. 快速格式化代码：`ctrl+alt+L`
5. 快速运行程序，默认是`ctrl+shift+F10/shift+10` 自己定义 `alt+R`
6. 查看类的层级关系：`crtl+H`
7. 拷贝/粘贴/剪切：`ctrl+C/V/X`
8. 查找：`ctrl+F`，替换：`ctrl+R`

## 四、转义字符

- `\t `： 一个制表位，实现对齐的功能
- `\n` ：换行符
- `\\`：一个\
- `\"`：一个"
- `\'`： 一个'
- `\r`：一个回车

## 五、注释

单行注释：`#`

多行注释：`'''注释内容‘’‘`（三组单引号）或者`"""注释内容"""`（三组双引号）

文件编码声明注释：`# coding:编码` 用于指定文件的编码类型，只能放到文件的开头

**python文档：https://docs.python.org/zh-cn/3.13/**

## 六、变量

变量三要素：类型，名称，值

`type(a)` 输出变量a的类型

### 变量格式化输出

- %操作符

  ```python
  age = 20
  score = 78
  sex = "男"
  name = "张三"
  # %操作符输出
  print("姓名：%s %d %s %.1f" % (name,age,sex,score))
  
  # %s 代表输出字符串
  # %d 代表输出整数
  # %.nf 代表输出n位的浮点数
  ```

- format()函数,不用关心数据类型

  ```py
  print("姓名：{} {} {}" .format(name,sex,score))
  ```

- f-strings，自动搜索变量，不关心数据类型，推荐使用

  ```python
  print(f"姓名：{name} {sex} {score}")
  ```

**加号的使用**

如果加号两边是字符串，则是作为连接符，如果两边是数值类型则做加法运算。

### **数据类型**

python中的变量再试用期都必须赋值，变量赋值以后该变量才会被创建。

我们所说的“类型”是变量所指的内存数据的类型。

python的数据类型包括：整型，浮点型，布尔，字符串

 python 的int类型可以存放4300位的整数，python的整数有十进制，十六进制，八进制和二进制。

十六进制写法：加前缀0x，由0-9和A-F的数字和字母组合

八进制写法：加前缀0o，由0-7数字组合

二进制写法：加前缀0b，只有0和1数字组合

运行时，会自动转换成十进制输出。

```python
# 10进制
print(10)

#16进制
print(0x10)

#8进制
print(0o10)

#2进制
print(0b10)
```

python中整型占多少字节？

1.字节数随着数字增大而增大（即：python整型是变长的）

2.每次的增量是4个字节

```python
# 在python中可以通过sys.getsizeof(obj)返回obj的大小（按照字节单位返回）
p = 2**10   # 2**10 就是2的10次方
print({sys.getsizeof(p)})
# 返回结果：40
```

科学计数法浮点数

5.12e2 = 5.12X10的2次方

5.12e-2 =  5.12/10的2次方

浮点数大小限制

float_info.max = 1.7976931348623157e+308

float_info.min = 2.2250738585072014e-308

浮动类型计算后，存在精度的损失，可以使用Decimal类进行精确计算

**布尔类型注意事项：**

布尔类型可以和其他数据类型进行比较，比如数字，字符串等，在比较时，python会将ture视为1，false视为0.

在python中，非0被视为真，0值被视为假值

**字符串注意事项：**

python 不支持单字符类型，单字符在python中也是作为一个字符串使用

用三个单引号`'''内容'''`或三个双引号`"""内容"""`可以使字符串内容保持原样输出

```python
# 原样输出字符串
cont = """
def any(iterable):
    for element in iterable:
        if element:
            return True
    return False
"""
print(cont)
```

在字符串前面加`'r'`可以使整个字符串不会被转义。

```python
str=r"jack \n tom \t jeron"
print(str)
jack \n tom \t jeron
```

### 字符串驻留机制

python仅保存一份相同且不可变字符串，不同的值被存放在字符串的驻留池中，python的驻留机制对相同的字符串只保留一份拷贝，后续创建相同字符串时，不会开辟新空间，而是把该字符串的地址赋给新创建的变量

```python
str1 = "hello"
str2 = "hello"
str3 = "hello"
#id()函数，可以返回对象/数据的内存地址
print("str1的地址：", id(str1))
print("str2的地址：", id(str2))
print("str3的地址：", id(str3))
str1的地址： 1965951195328
str2的地址： 1965951195328
str3的地址： 1965951195328
```

驻留机制的几种情况：

1.字符串是由26个英文字母大小写，0-9，_组成

2.字符串长度为0或者1时

3.字符串在编译时进行驻留，而非运行时

```python
a = "abc"
b = "".join(["a","bc"])
print(a)
abc
print(b)
adc  
id(a)
1409056
id(b)
194784
# a 和 b的结果虽然一样，但是a是编译时就是abc，b是运行时才是abc，所以不会驻留
```

4.[-5至256]的整数数字

5.sys中的intern方法可以强制两个字符串指向同一个对象

```python
import sys
s1 = "abc#"
s2 = sys.intern(s1) 
```

6.pycharm对字符串进行了优化处理，相同字符串依然会驻留

```python
str1 = "abc#"
str2 = "abc#"
print(id(str1) == id(str2))
True
```

字符串驻留机制的好处：

当需要值相同的字符串时，可以直接从字符串池里拿来使用，避免频繁的创建和销毁，提升效率和节约内存

### 数据类型转换

- 隐式类型转换
  python变量的类型不是固定的，会根据变量当前值在运行时决定，可以通过内置函数type(变量)来查看其类型，这种方式就是隐式转换，也称为自动转换

```python
var1 = 10
print(type(var1)) #int
var1 = 1.1
print(type(var1)) #float
var1 = "XXX"
print(type(var1)) #str
```

- 显式类型转换

​	如果需要对变量数据类型进行转换，只需要将数据类型作为函数名即可，这种方式就是显式转换/强制转换。

| **函数**             | **作用**                                                     |
| -------------------- | ------------------------------------------------------------ |
| `int(x, base=10) `   | 将X转换为一个整型变量，base参数为可选项，用来决定转化后的进制 ，默认为十进制 |
| ` long(x, base=10) ` | 将X转换为一个长整型变量（比int的范围更大），base参数为可选项，用来决定转化后的进制，默认为十进制 |
| ` float(x)`          | 将X转换为一个浮点数                                          |
| `str(object)`        | 将对象object转换为字符串                                     |
| `repr(object) `      | 将对象object转换为表达式字符串                               |
| `eval(str) `         | 用来计算在字符串str中的有效python表达式，并返回一个对象      |
| `tuple(seq) `        | 将序列seq转换为一个元组                                      |
| `list(seq)`          | 将序列seq转换为一个列表                                      |
| ` chr(x)`            | 将一个整数转换为一个字符                                     |
| `unichr(x)`          | 将一个整数转换为一个Unicode字符                              |
| ` ord(x)`            | 将一个字符转换为它的整数值                                   |
| ` hex(x)`            | 将一个整数转换为一个十六进制字符串                           |
| `oct(x)`             | 将一个整数转换为一个八进制字符串                             |

显式类型转换注意事项：

1.不管什么值的int，float都可以转成str，str(x)将对象x转换成字符串

2.int转成float时，会增加小数部分，比如12-->12.0,float转成int时，会去掉小数部分，比如123.65-->123

3.str转int，float使用int(x),float(x)将对象x转换成int/float,在将str类型转成基本数据类型时，要确保str值能够转成有效的数据，比如我们可以将"123".转成一个整数，但是不能把"hello"转成一个整数，"12.3"也不能转成一个整数，如果格式不正确，程序会报valueError。

4.对一个变量进行强制转换，会返回一个数据/值，注意，强制转换后，并不会影响原变量的数据类型（即不会影响原变量指向的数据/值的数据类型）。

```python
i = 10
j = float(i) #j 会开辟一个新的内存空间，存储float(i)的结果，并不会改变原来i的值
```

## 七、运算符

### 算术运算符

| 运算符 | 运算                                 | 范例            |
| ------ | ------------------------------------ | --------------- |
| +      | 加                                   | 5+5=10          |
| -      | 减                                   | 6-4=2           |
| *      | 乘                                   | 3*4=12          |
| /      | 除                                   | 5/5=1           |
| %      | 取模（取余）                         | 7%5=2           |
| //     | 取整除（返回商的整数部分，向下取整） | 9//2=4,-9//2=-5 |
| **     | 幂                                   | 2**3=8          |

```python
# 当对一个数取模时，对应的运算公式是：a%b = a-a//b*b
print(-10%3) 
# 计算过程：-10 -（-10）//3*3 => -10 - (-4)*3 =>-10 -(-12) => 2
print(10%-3) 
# 计算过程：10 -10//(-3)*(-3) => 10 - (-4)*(-3) => 10-12 => -2
print(-10%-3) => -1
print(10%3) => 1
```

练习题：

1.假如还有97天放假，问：合多少个星期零多少天？

2.华氏温度转摄氏温度的公式：5/9*（华氏温度-100），求234.5华氏温度是多少摄氏度？

### 赋值运算符

| 运算符 | 描述                 | 实例               |
| ------ | -------------------- | ------------------ |
| =      | 简单的赋值运算符     | c=a+b              |
| +=     | 复合加法赋值运算符   | c+=a等效于c=c+a    |
| -=     | 复合减法赋值运算符   | c-=a等效于c=c-a    |
| *=     | 复合乘法赋值运算符   | c\*=a等效于c=c*a   |
| /=     | 复合除法赋值运算符   | c/=a等效于c=c/a    |
| %=     | 复合取模赋值运算符   | c%=a等效于c=c%a    |
| **=    | 复合幂赋值运算符     | c\**=a等效于c=c**a |
| //=    | 复合取整除赋值运算符 | c//=a等效于c=c//a  |

python 中支持一个简单的方式实现变量交换 x,y = y,x

python是一种极简主义的边陲语言，它没有引入？：这个运算符，而是使用if else关键字来实现相同的功能

语法是` max = a if a>b else b`

```python
# 用三元运算求两个数的较大值
a = 10
b = 80
max = a if a > b else b
print("较大值是", max)
```



### 比较运算符

| 运算符 | 运算                             | 范例 | 结果  |
| ------ | -------------------------------- | ---- | ----- |
| ==     | 等于                             | 4==3 | false |
| !=     | 不等于                           | 4!=3 | true  |
| <      | 小于                             | 4<3  | false |
| >      | 大于                             | 4>3  | true  |
| <=     | 小于等于                         | 4<=3 | false |
| >=     | 大于等于                         | 4>=3 | true  |
| is     | 判断两个变量引用对象是否为同一个 |      |       |
| is not | 判断两个变量引用对象是否不同     |      |       |

注意：比较运算符的结果要么是true，要么是false

比较运算符组成的表达式，我们称为比较表达式，比如：a>b

比较运算符==不能误写成=

### 逻辑运算符

| 运算符 | 逻辑表达式 | 描述                                                         | 实例              |
| ------ | ---------- | ------------------------------------------------------------ | ----------------- |
| and    | x and y    | 布尔“与”，如果x为false，x and y 返回x的值，否则返回y的计算值 | 10 and 20 返回 20 |
| or     | x or y     | 布尔“或”，如果x为true，x or y 返回x的值，否则返回y的计算值   | 10 or 20 返回10   |
| not    | not x      | 布尔“非”，如果x为false，返回true，如果x为true，返回false     |                   |

注意：

and 是种“短路运算符”，只有当第一个为true时才去验证第二个

or 是种“短路运算符”，只有当第一个为false时才去验证第二个

### 位运算符

详见第八章的位运算。

### 运算符的优先级

|      | 运算符从高到低                      | 描述                                 |
| ---- | ----------------------------------- | ------------------------------------ |
| 0    | （expressions）                     | 加括号的表达式                       |
| 1    | **                                  | 乘方                                 |
| 1    | *,@,/,//,%                          | 乘，矩阵乘，除，整除，取余           |
| 1    | +,-                                 | 加法，减法                           |
| 2    | >>,<<                               | 右移，左移（移位）                   |
| 2    | &                                   | 按位与                               |
| 2    | ^                                   | 按位异或                             |
| 2    | \|                                  | 按位或                               |
| 3    | in,not in,is,is not,<,<=,>,>=,!=,== | 比较运算符，包括成员检测和标识号检测 |
| 4    | not x                               | 布尔逻辑非                           |
| 4    | and                                 | 布尔逻辑与                           |
| 4    | or                                  | 布尔逻辑或                           |
| 5    | =,%=,/=,//=,-=,+=,*=,**=            | 辅助运算符                           |

1类是算术运算，2类位运算，3类比较运算，4类逻辑运算，5类赋值运算

### 标识符命名规则和规范

python对各种变量，函数和类等命名时使用的字符序列称为标识符

凡是自己可以起名字的地方都叫标识符

命名规则：

1. 由26个英文字母大小写，0-9，_ 组成

2. 数字不可以开头

3. 不可以使用关键字，但能包含关键字
   python内置关键字

   ```python
   False               class               finally             is              return
   None                continue            for                 lambda          try
   True                def                 from                nonlocal        while
   and                 del                 global              not             with
   as                  elif                if                  or              yield
   assert              else                import              pass            async
   await               except              in                  raise
   ```

4. python区分大小写

5. 标识符不能包含空格

标识符命名规范

- 变量名：变量要小写，若有多个单词，使用下划线分开，常量全部大写
- 函数名：函数名一律小写，如果有多个单词，用下划线隔开。另外，私有函数以双下划线开头
- 类名：使用大驼峰命名

大驼峰：多个单词的首字母都用大写开头。例如：MyName

小驼峰：第一个单词的首字母用小写，后面的单词首字母都用大写。例如：myName

`input(prompt)`函数接收到的一切数据都保存为str类型，如果要对接收到的数据做算术运算就要先类型转换。也可以使用如下方法指定获取的数据类型：

```python
age = int(input("请输入年龄："))
```

## 八、进制

| 10进制 | 16进制                             | 8进制                            | 2进制                                                    |
| ------ | ---------------------------------- | -------------------------------- | -------------------------------------------------------- |
| 0      | 0                                  | 0                                | 0                                                        |
| 1      | 1                                  | 1                                | 1                                                        |
| 2      | 2                                  | 2                                | 10<br />（满2进一位，十位表示2）                         |
| 3      | 3                                  | 3                                | 11                                                       |
| 4      | 4                                  | 4                                | 100                                                      |
| 5      | 5                                  | 5                                | 101                                                      |
| 6      | 6                                  | 6                                | 110                                                      |
| 7      | 7                                  | 7                                | 111                                                      |
| 8      | 8                                  | 10<br />（满8进一位，十位表示8） | 1000                                                     |
| 9      | 9                                  | 11                               | 1001                                                     |
| 10     | A                                  | 12                               | 1010                                                     |
| 11     | B                                  | 13                               | 1011                                                     |
| 12     | C                                  | 14                               | 1100                                                     |
| 13     | D                                  | 15                               | 1101                                                     |
| 14     | E                                  | 16                               | 1110                                                     |
| 15     | F                                  | 17                               | 1111                                                     |
| 16     | 10<br />（满16进一位，十位表示16） | 20                               | 10000<br/>(每一位表示2的(n-1)次方，结果是再想加)         |
| 17     | 11                                 | 21                               | 10001                                                    |
| 18     | 12                                 | 22                               | 10010<br/>=>1X2\*\*4+0X2\*\*3+0X2\*\*2+1X2\*\*1+0X2\*\*0 |

### 其他转十进制

二进制转十进制规则：从最低位(右边)开始，将每个位上的数乘以2的(位数-1)次方，然后求和。

八进制转十进制规则：从最低位(右边)开始，将每个位上的数乘以8的(位数-1)次方，然后求和。

十六进制转十进制规则：从最低位(右边)开始，将每个位上的数乘以16的(位数-1)次方，然后求和。

### 十进制转其他

十进制转二进制规则，将该数不断除以2，只到商为0为止，然后将每步得到的余数倒过来就是对应的二进制。

```python
print(bin(123))
# 计算过程
# 123/2=61  ...1
# 61/2=30 ...1
#30/2=15 ...0
# 15/2=7 ...1
# 7/2=3 ...1
# 3/2=1 ...1
# 1
#结果是0B1111011
```

十进制转八进制规则，将该数不断除以8，只到商为0为止，然后将每步得到的余数倒过来就是对应的八进制。

```python
print(oct(678))
# 计算过程如下
# 678/8=84 ...6
# 84/8=10 ...4
# 10/8=1 ...2
# 1
# 结果 0o1246
```

十进制转十六进制规则，将该数不断除以16，只到商为0为止，然后将每步得到的余数倒过来就是对应的十六进制。

```python
print(hex(8912))
# 计算过程如下
# 8912/16=557 ...0
# 557/16=34 ...13=>d
# 34/16=2 ...2
# 2
# 结果 0X22d0
```

### 二进制转八进制，十六进制

二进制转八进制规则：从低位开始，将二进制数每三位一组，转成对应的八进制数即可。

```python
#ob11010101 转八进制
# 11 010 101 =》3  2  5
#结果0o325
```

二进制转十六进制规则：从低位开始，将二进制数每四位一组，转成对应的十六进制数即可。

```python
#ob11010101 转十六进制
# 1101 0101 =》13(d) 5
#结果0xd5
```

### 八进制，十六进制转二进制

八进制转二进制规则：将八进制数的每1位，转成对应的一个3位的二进制数即可。

```python
#0o237转二进制
# 7 ==》111
# 3 ==》011
# 2 ==》010
#结果0b10011111
```

十六进制转二进制规则：将十六进制数的每1位，转成对应的一个4位的二进制数即可。

```python
#0X23B转二进制
# B ==》1011
# 3 ==》0011
# 2 ==》0010
#结果0b1000111011
```

### 原码，反码，补码

1. 二进制的最高位是符号位：0表示整数，1表示负数

```python
#  python中一个数由28个字节组成，便于演示现假定一个数就是1个字节（8位)
#  3 ==》0000 0011
#  -3==》1000 0011
```

2. 正数的原码，反码，补码都一样（三码合一）
3. 负数的反码=它的原码符号位不变，其他位取反

```python
# -3 =》 原码：1000 0011
#	 =》 反码：1111 1100
```

4. 负数的补码=它的反码+1，负数的反码 = 负数的补码-1

```python
# -3 =》 原码：1000 0011
#	 =》 反码：1111 1100
#    =》 补码：1111 1101
```

5. 0的反码，补码都是0
6. 在计算机运算的时候，都是以**补码**的方式来运算的

```python
#  1+3
# 1的补码：0000 0001
# 3的补码：0000 0011
# 1+3 =》 0000 0100 （运算结果还是补码）
# 1-3 == 1+(-3)
# 1的补码：0000 0001
# -3的原码：1000 0011 =》反码：1111 1100 =》补码：1111 1101
# 0000 0001 + 1111 1101 =》 1111 1110（得出结果的补码）
# 结果的反码：1111 1110（补码）-1 =》 1111 1101
# 结果的原码: 1000 0010 => -2
```

7. 当我们看运算结果的时候，要看它的原码

### 位运算

| 位运算符 | 名称     | 规则释义                                                     |
| -------- | -------- | ------------------------------------------------------------ |
| ~        | 按位取反 | 对数据的每个二进制位取反，即把1变0,把0变1                    |
| &        | 按位与   | 参与运算的两个值，如果两个相应位都为1，则该位的结果为1，否则为0 |
| ^        | 按位异或 | 当两个对应的二进位相异时，结果为1                            |
| \|       | 按位或   | 只要对应的二个二进位有一个为1时，结果就为1                   |
| <<       | 左移     | 运算数的各二进位全部左移若干位，由"<<"右边的数指定移动的位数，符合位不变，高位丢弃，低位补0 |
| >>       | 右移     | 把“>>”左边的运算数的各二进位全部右移若干位，">>"右边的数指定移动的位数，低位溢出，符号位不变，并用符号位补溢出的高位 |

~ 按位取反案例

```python
# 我们假定使用一个字节来表示一个数字
# ~-2=?
# -2的补码:? 推导步骤：
# -2的原码1000 0010 
#  =>-2的反码 1111 1101
#  =》-2补码 1111 1110
#  =》按位取反：0000 0001(结果是补码)=》00000001(正数的补码就是原码)
#  =>结果就是：1


# ~2=?
# 2 的补码:0000 0010
# 按位取反：1111 1101(结果是补码)
# 补码推导原码（反码：补码-1）=>1111 1100(反码)=>1000 0011(原码)
# 结果=》-3
```

& 按位与

```python
# 分析 2&3 的结果
# 2的补码：0000 0010
# 3的补码：0000 0011
# 按位与： 0000 0010 正数 原码=补码
# 结 果 ：2
```

^ 按位异或

```python
# 分析 2^-3的结果
# 2的补码：0000 0010
# -3的原码：1000 0011
# -3的反码：1111 1100
# -3的补码：1111 1101
#  2^-3:0000 0010
#		1111 1101
#(补码)结果 1111 1111
#结果反码： 1111 1110
#结果原码： 1000 0001
# 结果==》 -1
```

| 按位或

```python
# 分析 2|3的结果
# 2的补码：0000 0010
# 3的补码：0000 0011
# 2|3的补码：0000 0011
# 结果 == 3
```

<< 右移

```python
# 分析 5<<1
# 5的补码：0000 0101
# 5<<1:  0000 1010 (补码)
# 结果：10

# 分析 -5<<1
# -5的原码：1000 0101
# -5的反码：1111 1010
# -5的补码：1111 1011
# -5 <<1: 1111 0110 (补码)
#  结果的反码：1111 0101
#  结果原码： 1000 1010 => -10
# m左移n位相当于 m*2**n
```

\>\> 右移

```python
# 分析 5>>1
# 5的补码：0000 0101
# 5>>1:  0000  0010 (补码)
# 结果：2

# 分析 -5>>1
# -5的原码：1000 0101
# -5的反码：1111 1010
# -5的补码：1111 1011
# -5 >>1:  1111 1101 (补码)
#  结果的反码：1111 1100
#  结果的原码：1000 0011
#  结果： -3
#  m右移n位相当于 m//2**n
```

## 九、程序流程控制

### 顺序控制

 51

### 分支控制



### 循环控制

